#!/usr/bin/sed -Enf
# Run as ./a.sed | tr -d '\n' | wc -m
s/$/:/
:1
s/9:/8:x/;s/8:/7:x/;s/7:/6:x/;s/6:/5:x/;s/5:/4:x/;s/4:/3:x/;s/3:/2:x/;s/2:/1:x/;s/1:/0:x/
/([^0])(0+:)/{
    s//\1,\2x/
    :2;s/0(0*):/9\1:/g;t2
    s/1,/0/;s/2,/1/;s/3,/2/;s/4,/3/;s/5,/4/;s/6,/5/;s/7,/6/;s/8,/7/;s/9,/8/
}
t1
s/.*://

s/xxx/X/g
s/x//g
s/XX?//
H
${x; s/\n//gp}
