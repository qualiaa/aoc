#!/usr/bin/env bqn
StrToInt â† +âŸœ(10âŠ¸Ã—)Â´ âˆ˜ âŒ½ âˆ˜ -âŸœ'0'

# From filters ğ•© to remove elements not in ğ•¨ (i.e. take ğ•¨ From ğ•©)
From â† { âˆŠâŸœğ•¨âŠ¸/ ğ•© }

# Use these for extracting alpha and numeric characters
alpha â† 'a' +â†•26
numeric â† '0' + â†•10

# Use these to group counts by colour and check part 1 condition
colours â† "red"â€¿"green"â€¿"blue"
limits â† 12â€¿13â€¿14

# Remove game numbers
input â† 8âŠ¸â†“Â¨ â€¢FLines "/dev/stdin"
# Split into fields delimited by , and ;
fields â† { (((+` +Â´Â¨) âˆ˜ (','â€¿';'âŠ¸=âŒœ))Â¨ ğ•©) âŠ”Â¨ ğ•©} input
# Extract alphabetic and numeric characters from fields
sequences â† {âŸ¨StrToInt numeric From ğ•©, alpha From ğ•©âŸ©}Â¨Â¨ fields
#sequence â† âŸ¨ 3â€¿"blue", 4â€¿"red", 1â€¿"red", 2â€¿"green", 6â€¿"blue", 2â€¿"green" âŸ©
sequence_limits â† {âŒˆÂ´Â¨(coloursâŠ 1âŠ¸âŠ‘Â¨ ğ•©) âŠ” âŠ‘Â¨ ğ•©}Â¨ sequences

â€¢Show +Â´ 1+ / (âˆ§Â´ limitsâŠ¸â‰¥)Â¨ sequence_limits

â€¢Show +Â´ Ã—Â´Â¨ sequence_limits
