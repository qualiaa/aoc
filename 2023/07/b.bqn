#!/usr/bin/env bqn

input â† â€¢FLines "/dev/stdin"

card_rank â† âŒ½"AKQT98765432J"

StrToInt â† +âŸœ(10âŠ¸Ã—)Â´ âˆ˜ âŒ½ âˆ˜ -âŸœ'0'
OldClassify â† {(-âŸœ1âˆ˜â‰ Â¨ â·âŠ¸âŠâŠ¸âŠ” ğ•©)âŠ¸(+Â´âˆ˜=)Â¨ âŒ½â†•5}
NewClassify â† {
nonjackâ€¿jack â† 'J'âŠ¸=âŠ¸âŠ” ğ•©
{ 5= â‰ jack ? 1Â»5â¥Š0;
old â† OldClassify nonjack
# FIXME: I'm sure there's a better way of doing this
from â† âŠ‘âˆ˜(0âŠ¸<âŠ¸âŠâŸœ1) old
to â† from - â‰  jack
(+âŸœ1)âŒ¾(toâŠ¸âŠ)(-âŸœ1)âŒ¾(fromâŠ¸âŠ) old
}
}
Classify â† {âŠ‘ 'J'âˆŠğ•© ? NewClassify ğ•© ; OldClassify ğ•©}
SortKey â† {(Classify â‹ˆcard_rankâŠ¸âŠ) ğ•©}

arr â† StrToIntÂ¨âŒ¾(1âŠ¸âŠË˜) > 1âŠ¸â†“ âˆ˜ ((1âŠ¸(+`)âŠ¸Ã—âŸœÂ¬ âˆ˜ âˆŠâŸœ" ")âŠ¸âŠ”)Â¨ input
â€¢Show +Â´ (1+ â‹â‹ SortKeyâˆ˜âŠ‘Ë˜ arr) Ã— (1âŠ¸âŠË˜ arr)
